* viewp7
#+begin_src sh
openssl crl2pkcs7 -help 2>&1
#+end_src

#+RESULTS:
#+begin_example
Usage: crl2pkcs7 [options]
Valid options are:
 -help             Display this summary
 -inform PEM|DER   Input format - DER or PEM
 -outform PEM|DER  Output format - DER or PEM
 -in infile        Input file
 -out outfile      Output file
 -nocrl            No crl to load, just certs from '-certfile'
 -certfile infile  File of chain of certs to a trusted CA; can be repeated
#+end_example

#+begin_src sh
mkdir -p testca/pki/pkcs7
openssl crl2pkcs7 -inform PEM \
        -in testca/pki/crl/ca_testtool_ca_01_crl.pem \
        -certfile testca/pki/crt/jobbflykt.crt \
        -certfile testca/pki/ca/ca_testtool_ca_01.crt \
        -out testca/pki/pkcs7/jobbflykt.p7b
#+end_src

#+RESULTS:

#+begin_src sh
openssl pkcs7 --help 2>&1
openssl pkcs7 -in testca/pki/pkcs7/jobbflykt.p7b -noout -text -print_certs
#+end_src

#+RESULTS:
#+begin_example
Usage: pkcs7 [options]
Valid options are:
 -help             Display this summary
 -inform PEM|DER   Input format - DER or PEM
 -in infile        Input file
 -outform PEM|DER  Output format - DER or PEM
 -out outfile      Output file
 -noout            Don't output encoded data
 -text             Print full details of certificates
 -print            Print out all fields of the PKCS7 structure
 -print_certs      Print_certs  print any certs or crl in the input
 -engine val       Use engine, possibly a hardware device
Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 2 (0x2)
        Signature Algorithm: sha256WithRSAEncryption
        Issuer: CN=CA TestTool CA 01, O=CA TestTool Authority
        Validity
            Not Before: Jun  5 09:39:06 2022 GMT
            Not After : May 23 09:39:06 2072 GMT
        Subject: CN=Jobbflykt, O=CA TestTool Authority/emailAddress=jobbflykt@catesttool.se
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                RSA Public-Key: (2048 bit)
                Modulus:
                    00:ba:ea:84:0f:a6:d5:f1:56:b3:9e:7e:6f:cf:df:
                    73:b8:ed:e9:26:ac:bc:f1:91:b9:f9:6e:72:2b:92:
                    b5:05:0c:4e:9c:33:3c:44:aa:5d:d7:d7:a4:e8:41:
                    7d:f8:d6:48:cb:9c:4f:20:e4:20:8c:39:c3:4b:5f:
                    c0:15:b9:a2:07:65:8c:c3:b4:c2:76:dd:9f:e4:42:
                    7c:ba:7c:1c:92:36:86:b2:9d:41:d6:2d:0d:27:75:
                    2d:7d:bf:b9:7e:e3:37:18:cb:2f:97:a6:b9:d7:1c:
                    a7:ef:66:90:bf:95:c6:62:2e:c2:a6:cb:6c:79:e2:
                    c0:b6:b9:95:d8:9a:3d:09:58:6a:7c:dc:1c:f5:48:
                    3b:eb:62:12:17:e6:54:29:0e:69:73:a8:25:ef:19:
                    a6:30:01:a2:43:2a:08:4a:c4:ba:ed:5a:ad:7b:d4:
                    12:65:f2:d8:bf:9e:9b:5b:3e:00:39:81:1f:39:64:
                    92:9a:4b:83:19:12:67:0c:5e:4e:1a:a4:44:7c:01:
                    23:69:b5:6e:bd:d5:b7:12:73:7e:e0:81:aa:eb:72:
                    b9:eb:bd:13:15:3e:20:4f:7a:c1:96:f4:43:76:b7:
                    8d:c7:45:08:42:9b:5e:40:16:f7:c3:88:12:0a:e2:
                    d6:6e:32:57:5c:8e:f3:69:fd:59:90:03:d2:27:b1:
                    23:19
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Subject Key Identifier:
                96:73:24:7D:F7:4F:0F:26:16:31:6C:29:03:3B:77:C2:DC:1F:8D:7A
            X509v3 Authority Key Identifier:
                DirName:/CN=CA TestTool CA 01/O=CA TestTool Authority
                serial:01

            X509v3 Basic Constraints:
                CA:FALSE
            X509v3 Key Usage: critical
                Digital Signature, Key Encipherment, Data Encipherment
            X509v3 CRL Distribution Points:

                Full Name:
                  URI:http://crl.catesttool.se

            X509v3 Extended Key Usage:
                TLS Web Client Authentication, E-mail Protection
            X509v3 Subject Alternative Name:
                email:jobbflykt@catesttool.se, othername:<unsupported>
    Signature Algorithm: sha256WithRSAEncryption
         90:d4:67:92:d9:f5:a6:ec:aa:40:27:f4:9d:54:81:f7:79:94:
         1b:e3:38:90:07:9f:e8:7c:a7:f5:64:48:a3:c6:5b:2d:46:ef:
         c3:23:5a:80:c1:f0:19:be:69:4f:ac:1a:fb:5d:d3:93:9e:77:
         42:ce:e0:aa:66:e9:ac:31:58:77:48:aa:5e:7b:89:d7:18:1f:
         a0:c2:88:57:ed:8d:48:a7:7e:07:fa:16:15:86:d7:e8:64:c5:
         7a:7e:3b:af:f0:cf:f7:25:11:d5:fd:61:22:2d:51:a5:82:63:
         99:a1:11:19:f0:20:22:24:ff:b4:85:3b:30:e4:2e:8b:7a:39:
         9d:1b:de:a7:ea:53:80:25:68:66:5a:9d:8d:38:f4:51:61:90:
         ab:6e:07:f4:88:5c:34:21:31:2f:54:c1:71:61:b0:bf:27:05:
         fc:78:86:a7:90:cf:0b:10:25:95:09:ce:8c:fc:a6:b6:2a:06:
         6e:06:cf:a5:91:99:a0:6a:d2:f8:1d:25:08:a0:38:99:98:a4:
         22:2d:95:d5:c0:1f:f6:cb:91:1d:6e:fa:ea:36:83:48:8f:3f:
         b2:42:65:46:ef:01:9e:b4:b1:a7:49:41:e1:ce:a8:7a:f8:02:
         00:21:96:fb:a5:54:01:5a:24:5f:e7:83:79:e9:7a:bd:a5:00:
         7f:93:ad:37

Certificate:
    Data:
        Version: 3 (0x2)
        Serial Number: 1 (0x1)
        Signature Algorithm: sha256WithRSAEncryption
        Issuer: CN=CA TestTool CA 01, O=CA TestTool Authority
        Validity
            Not Before: Jun  5 09:38:40 2022 GMT
            Not After : May 23 09:38:40 2072 GMT
        Subject: CN=CA TestTool CA 01, O=CA TestTool Authority
        Subject Public Key Info:
            Public Key Algorithm: rsaEncryption
                RSA Public-Key: (2048 bit)
                Modulus:
                    00:d1:ee:62:37:ee:a6:3e:a3:91:f1:f3:93:2e:e2:
                    18:07:45:5c:6d:c3:d9:02:1e:fa:7d:7c:08:3a:b6:
                    a2:91:3d:d2:ca:7d:21:86:3c:3a:39:62:6d:f3:21:
                    fd:e7:41:09:5c:f3:99:49:78:c1:1b:d5:f4:f4:2c:
                    3a:63:16:29:f2:f9:b0:4f:fd:fe:59:ab:32:43:6a:
                    be:b1:2b:18:7f:0f:2f:1f:de:30:d1:ec:36:95:4a:
                    53:c6:7c:f4:7a:34:f3:80:fb:f0:48:e6:48:23:06:
                    d2:34:7b:0b:14:51:ca:08:fc:65:56:c6:93:8d:7f:
                    24:b5:5f:a6:1c:9e:b2:fd:cf:6a:c4:a9:a1:43:df:
                    fa:83:19:d3:d5:d5:2a:f3:f6:15:68:f9:a8:d7:89:
                    45:85:87:b2:32:c2:3f:cb:18:9e:60:fc:fb:61:dc:
                    c0:b6:b6:fd:ad:61:47:fb:1f:41:3d:2b:90:18:f3:
                    07:2e:27:61:0c:fe:93:1e:ce:35:22:65:a0:88:2e:
                    ee:98:c5:89:f0:6b:ab:fb:de:0c:95:44:f5:f8:18:
                    c3:13:4d:9d:75:2d:a2:3d:f8:ca:cf:67:f6:2f:39:
                    3a:ac:81:d4:24:ce:6a:54:d2:f0:5b:38:33:71:e9:
                    3b:91:25:c4:4a:a0:f6:47:7d:b8:d1:53:41:78:70:
                    8a:f9
                Exponent: 65537 (0x10001)
        X509v3 extensions:
            X509v3 Basic Constraints: critical
                CA:TRUE, pathlen:0
            X509v3 Key Usage: critical
                Certificate Sign, CRL Sign
            X509v3 CRL Distribution Points:

                Full Name:
                  URI:http://crl.catesttool.se

    Signature Algorithm: sha256WithRSAEncryption
         b5:77:ec:bb:db:50:e2:e9:e6:8d:e7:3f:9f:0e:b6:e1:c4:19:
         21:62:7d:0a:0b:be:e2:26:8c:c2:31:8f:ae:64:6d:29:49:ec:
         4d:5a:54:fa:f4:33:5d:dd:f1:4d:7f:ac:ed:4a:e5:59:fe:59:
         2a:ed:07:17:17:5d:e4:9e:d2:84:53:40:91:0c:84:9e:de:a0:
         ea:0a:66:50:85:11:c1:62:d1:2f:cc:18:27:87:00:36:27:77:
         08:a0:d7:24:80:27:9c:95:37:ce:99:b2:3b:ba:07:ee:2f:c6:
         00:25:2b:f0:f5:6b:08:dc:d1:ff:53:7a:3a:fc:e2:b4:d5:e0:
         6a:72:64:13:3b:dd:f5:2d:2e:c4:93:6c:37:32:23:74:49:c8:
         f4:24:8e:6a:e8:3e:70:43:cf:f0:6c:10:52:2d:fa:6c:17:61:
         83:5f:10:04:be:26:e7:05:03:50:73:c0:d5:6a:95:44:06:37:
         a0:e4:6a:d7:19:76:87:1b:00:d9:d5:77:59:a9:0c:54:a0:47:
         79:73:ca:75:e3:f9:79:f4:5d:1a:92:26:a9:e7:cf:53:9b:c1:
         08:b5:e6:3f:2e:58:d7:5f:c3:84:ef:9e:32:98:27:1f:4b:3f:
         aa:68:0b:a8:1c:2b:69:88:0f:19:bc:a3:32:c6:d3:88:5a:da:
         f6:a8:05:cd

Certificate Revocation List (CRL):
        Version 2 (0x1)
        Signature Algorithm: sha256WithRSAEncryption
        Issuer: CN = CA TestTool CA 01, O = CA TestTool Authority
        Last Update: Jun  5 13:29:03 2022 GMT
        Next Update: May 23 13:29:03 2072 GMT
Revoked Certificates:
    Serial Number: 02
        Revocation Date: Jun  5 13:28:54 2022 GMT
        CRL entry extensions:
            X509v3 CRL Reason Code:
                Unspecified
    Signature Algorithm: sha256WithRSAEncryption
         86:3d:93:de:7e:d3:91:82:31:79:7a:f6:de:46:75:15:ae:c2:
         70:ed:b3:29:4b:d3:a1:27:90:a6:ca:ea:4f:6f:af:c9:dd:3b:
         c3:8a:fc:15:4e:17:e1:3d:e1:4c:78:7a:d2:ed:88:f1:9c:c9:
         db:9a:52:91:20:3d:b9:28:cf:fc:3f:f6:96:43:cf:9f:08:c8:
         08:9f:56:e2:06:cf:40:5f:c7:f3:7e:32:42:0e:3d:62:82:42:
         c5:c8:3d:82:3e:d4:5b:56:49:9f:ad:a6:67:0e:e2:9a:99:7a:
         a3:73:0c:83:6e:84:e8:2c:6a:ab:0e:85:b2:bb:74:cc:a3:11:
         ec:bb:b4:0a:17:d7:2b:7b:ea:92:5f:3d:70:c3:b7:54:9e:e4:
         3d:ce:45:0a:dd:7d:cf:29:c7:af:65:8e:20:a8:d2:02:8e:8b:
         d3:62:a4:e2:fd:0b:0a:8a:29:5d:69:4d:1d:2f:8d:f2:9b:fb:
         8f:ad:66:15:0b:56:a3:85:4d:e2:74:ab:09:18:d0:8b:d1:f3:
         78:ca:f4:24:be:88:38:b3:27:b1:fe:bb:bf:ff:71:6a:38:e7:
         c9:01:16:17:6a:c6:df:62:03:d7:8a:91:18:1f:2e:bc:44:63:
         b8:93:78:12:76:1d:d7:77:bd:f0:db:b8:a1:3f:55:a1:20:08:
         5d:d8:9d:c5

#+end_example
